<!DOCTYPE html>

<html lang="pt-br">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>Expressio ‚Äî Data Room</title>
<meta content="Data Room ‚Äî Expressio: Log√≠stica + Fintech para PMEs de E-commerce" name="description"/>
<meta content="noindex, nofollow" name="robots"/>
<link href="https://expressio.com.br/favicon.ico" rel="icon"/>
<meta content="Expressio ‚Äî Data Room" property="og:title"/>
<meta content="Log√≠stica + Fintech para PMEs de E-commerce" property="og:description"/>
<meta content="website" property="og:type"/>
<meta content="#0b1016" name="theme-color"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;display=swap" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/echarts@5/map/js/world.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-chart-matrix@2.0.1/dist/chartjs-chart-matrix.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<style>
    :root{
      --bg:#0b1016; --bg-soft:#0e141b; --card:#111823; --text:#e6edf3; --muted:#9fb1c7;
      --brand:#14b8a6; --brand-2:#2563eb; --accent:#f6c945; --ring:0 0 0 1px rgba(20,184,166,.18), 0 12px 34px rgba(37,99,235,.12);
      --ok:#4ade80; --warn:#f59e0b; --bad:#ef4444;
    }
    [data-theme="light"]{
      --bg:#f8fafc; --bg-soft:#f1f5f9; --card:#fff; --text:#0b1016; --muted:#475569;
      --brand:#0ea5a3; --brand-2:#1d4ed8; --accent:#b45309; --ring:0 2px 14px rgba(37,99,235,.15);
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:var(--text);
      background: radial-gradient(900px 520px at 15% -10%, color-mix(in srgb, var(--brand) 12%, transparent), transparent 60%),
                  radial-gradient(900px 520px at 115% 0%, color-mix(in srgb, var(--brand-2) 12%, transparent), transparent 60%), var(--bg)}
    a{color:var(--brand-2); text-decoration:none}
    .container{max-width:1200px; margin:0 auto; padding:0 20px}
    header{position:sticky; top:0; z-index:50; backdrop-filter:saturate(1.1) blur(10px);
      background:color-mix(in srgb, var(--bg) 92%, transparent);
      border-bottom:1px solid color-mix(in srgb, var(--text) 12%, transparent)}
    .nav{display:flex; align-items:center; justify-content:space-between; padding:14px 0}
    .brand{display:flex; align-items:center; gap:12px; font-weight:800}
    .brand img{height:26px}
    .nav a{margin:0 10px; color:var(--muted); font-weight:500} .nav a:hover{color:var(--text)}
    .mode{padding:8px 12px; background:var(--card); border:1px solid color-mix(in srgb, var(--text) 11%, transparent);
      border-radius:10px; color:var(--muted); cursor:pointer}
    .hero{padding:54px 0 18px}
    .hero h1{font-size:38px; margin:8px 0}
    .tag{display:inline-flex; align-items:center; gap:8px; background:var(--card);
      border:1px solid color-mix(in srgb, var(--text) 10%, transparent); color:var(--muted);
      padding:8px 12px; border-radius:999px; box-shadow:var(--ring)}
    .muted{color:var(--muted)}

    .kpis{display:grid; grid-template-columns:repeat(4,1fr); gap:16px; margin:18px 0 8px}
    .card{background:var(--card); border:1px solid color-mix(in srgb, var(--text) 10%, transparent);
      border-radius:16px; padding:16px; box-shadow:var(--ring)}
    .kpi-title{color:var(--muted); font-size:12px; text-transform:uppercase; letter-spacing:.12em}
    .kpi-value{font-size:28px; font-weight:800; margin-top:6px}
    .kpi-sub{color:var(--muted); font-size:12px}

    section{padding:22px 0}
    .grid-2{display:grid; grid-template-columns:1.12fr .88fr; gap:16px}
    .grid{display:grid; gap:16px}
    .chart{height:360px; border-radius:14px; background:var(--bg-soft); border:1px dashed color-mix(in srgb, var(--text) 10%, transparent)}
    .chart.tall{height:460px}
    .h{margin:0 0 10px; font-size:18px; letter-spacing:.02em}

    .controls{display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-top:12px}
    .control{background:var(--bg-soft); border:1px solid color-mix(in srgb, var(--text) 10%, transparent); padding:12px; border-radius:12px}
    .control label{display:flex; justify-content:space-between; font-size:12px; color:var(--muted)}
    .control input[type="range"]{width:100%}
    .pill{display:inline-flex; gap:6px; padding:6px 10px; border-radius:999px; background:color-mix(in srgb, var(--brand) 22%, transparent); color:var(--brand)}

    .docs a{display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-radius:12px;
      background:var(--bg-soft); border:1px solid color-mix(in srgb, var(--text) 10%, transparent); color:var(--text)}
    .docs a span{color:var(--muted); font-size:12px}
    footer{padding:30px 0 50px; color:var(--muted); text-align:center}

    .spark{height:110px}
    @media (max-width:980px){ .kpis{grid-template-columns:repeat(2,1fr)} .grid-2{grid-template-columns:1fr} }

    /* Watermark confidencial (sem bloqueio de acesso) */
    .wm:before{ content:"CONFIDENCIAL ‚Äì EXPRESSIO"; position:fixed; inset:0; pointer-events:none; z-index:0;
      background: repeating-linear-gradient(45deg, rgba(255,255,255,.03) 0 40px, transparent 40px 80px),
                  repeating-linear-gradient(-45deg, rgba(255,255,255,.03) 0 40px, transparent 40px 80px);
      mix-blend-mode:overlay }

    /* Roadmap cards */
    .features{display:grid; grid-template-columns:repeat(2,1fr); gap:16px}
    .feat{background:var(--card); border:1px solid color-mix(in srgb, var(--text) 10%, transparent); border-radius:16px; padding:16px; box-shadow:var(--ring)}
    .feat h4{margin:0 0 6px}
    .feat .meta{font-size:12px; color:var(--muted); text-transform:uppercase; letter-spacing:.1em}
    .feat ul{margin:6px 0 0 16px}
    .timeline{display:grid; grid-template-columns:repeat(4,1fr); gap:10px; margin-top:8px}
    .tstep{background:var(--bg-soft); border:1px dashed color-mix(in srgb, var(--text) 10%, transparent); border-radius:12px; padding:10px; font-size:12px}
  </style>
</head>
<body data-theme="dark">
<header>
<div class="container nav">
<div class="brand">
<img alt="Expressio" id="logo" onerror="this.style.display='none'" src="https://expressio.com.br/wp-content/uploads/logo-expressio.svg"/>
<div>Expressio <span class="muted" style="font-weight:600">Data Room</span></div>
</div>
<nav>
<a href="#kpis">KPIs</a><a href="#network">Rede</a><a href="#ops">Opera√ß√£o</a><a href="#unit">Unit Economics</a>
<a href="#roadmap">Roadmap</a><a href="#market">Mercado</a><a href="#diff">Diferenciais</a><a href="#expand">Expans√£o</a>
<a href="#docs">Documentos</a>
</nav>
<div style="display:flex; gap:8px"><button class="mode" id="modeBtn">üåô / ‚òÄÔ∏è</button></div>
</div>
</header>
<div class="container wm" id="content">
<section class="hero">
<span class="tag">Log√≠stica + Fintech para PMEs de E-commerce</span>
<h1>Opera√ß√£o inteligente, custo previs√≠vel e capital para escalar</h1>
<p class="muted">SLO que unifica envios, integra transportadoras e adiciona fintech nativa para PMEs.</p>
</section>
<!-- KPIs Top + Sparklines -->
<section id="kpis">
<div class="kpis">
<div class="card">
<div class="kpi-title">Receita (√∫ltimos 6m)</div>
<div class="kpi-value" id="kpiRevenue">R$ 0</div>
<div class="kpi-sub" id="kpiRevSub">MoM</div>
<canvas class="spark" id="sparkRev"></canvas>
</div>
<div class="card">
<div class="kpi-title">Clientes Ativos</div>
<div class="kpi-value" id="kpiClients">0</div>
<div class="kpi-sub">Sob NDA</div>
<canvas class="spark" id="sparkClients"></canvas>
</div>
<div class="card">
<div class="kpi-title">Envios / m√™s</div>
<div class="kpi-value" id="kpiShip">0</div>
<div class="kpi-sub" id="kpiShipSub">Crescimento</div>
<canvas class="spark" id="sparkShip"></canvas>
</div>
<div class="card">
<div class="kpi-title">LTV / CAC</div>
<div class="kpi-value" id="kpiRatio">0.0x</div>
<div class="kpi-sub">Meta ‚â• 3.0x</div>
<div class="chart" id="gauge" style="height:150px; margin-top:8px; display:flex; align-items:center; justify-content:center"></div>
</div>
</div>
</section>
<!-- Rede / Globo -->
<section class="grid-2" id="network">
<div class="card"><h3 class="h">Rede LatAm (rotas animadas)</h3><div class="chart tall" id="globe"></div></div>
<div class="grid">
<div class="card"><h3 class="h">Simulador What‚Äëif</h3>
<div class="controls">
<div class="control"><label><span>Envios/m√™s</span><b><span id="s_ship_v">0</span></b></label><input id="s_ship" max="200000" min="1000" step="1000" type="range" value="15000"/></div>
<div class="control"><label><span>Take rate (%)</span><b><span id="s_rate_v">0</span>%</b></label><input id="s_rate" max="15" min="2" step="0.1" type="range" value="6.0"/></div>
<div class="control"><label><span>ARPU (R$)</span><b><span id="s_arpu_v">0</span></b></label><input id="s_arpu" max="8000" min="200" step="50" type="range" value="2500"/></div>
</div>
<div style="display:flex; flex-wrap:wrap; gap:10px; margin-top:12px">
<span class="pill">Receita estimada: <b id="sim_rev">R$ 0</b></span>
<span class="pill">Margem fintech: <b id="sim_fin">R$ 0</b></span>
<span class="pill">LTV/CAC: <b id="sim_ratio">0.0x</b></span>
</div>
</div>
<div class="card"><h3 class="h">Notas</h3>
<ul class="muted" style="margin-top:2px; line-height:1.6">
<li>Dados base: <b>R$ 200 mil em 6 meses</b>, <b>10 clientes ativos</b>.</li>
</ul>
</div>
</div>
</section>
<!-- Opera√ß√£o -->
<section class="grid-2" id="ops">
<div class="card"><h3 class="h">Sankey ‚Äî do Pedido √† Entrega</h3><div class="chart" id="sankey"></div></div>
<div class="card" id="unit"><h3 class="h">Waterfall ‚Äî Unit Economics por envio</h3><div class="chart" id="waterfall"></div></div>
</section>
<!-- S√©ries MoM -->
<section class="grid-2">
<div class="card"><h3 class="h">Receita MoM (√°rea)</h3><canvas class="chart" id="areaRevenue"></canvas></div>
<div class="card"><h3 class="h">Envios MoM (coluna)</h3><canvas class="chart" id="barShipments"></canvas></div>
</section>
<!-- Roadmap & Produtos -->
<section id="roadmap">
<h3 class="h">Roadmap de Produto (2025‚Äì2026)</h3>
<div class="features">
<div class="feat">
<div class="meta">1. P√°gina de Checking &amp; Checkout</div>
<h4>Emiss√£o r√°pida de etiquetas</h4>
<p class="muted">Meta: experi√™ncia simples e r√°pida para emiss√£o de etiquetas.</p>
<ul>
<li>Cota√ß√£o <b>multi-CEP</b></li>
<li>Integra√ß√µes: <b>Bling</b>, <b>Tray</b></li>
<li>Fluxo completo at√© <b>pagamento</b> e <b>CT‚Äëe</b></li>
</ul>
<div class="timeline">
<div class="tstep">Q4/25: MVP multi-CEP</div>
<div class="tstep">Q1/26: Bling/Tray 1¬™ onda</div>
<div class="tstep">Q2/26: CT‚Äëe &amp; billing</div>
<div class="tstep">Q3/26: automa√ß√µes</div>
</div>
<p class="muted" style="margin-top:6px">Impacto: ‚Üë convers√£o, ‚Üì erros de envio.</p>
</div>
<div class="feat">
<div class="meta">2. Expressio Pay</div>
<h4>Monetiza√ß√£o &amp; flexibilidade financeira</h4>
<p class="muted">Meta: wallet, cr√©dito e concilia√ß√£o nativa.</p>
<ul>
<li>Carteira digital + <b>split</b> (transportadora/Expressio/cliente)</li>
<li><b>Parcelamento</b> e concilia√ß√£o autom√°tica</li>
</ul>
<div class="timeline">
<div class="tstep">Q4/25: wallet + split</div>
<div class="tstep">Q1/26: parcelamento</div>
<div class="tstep">Q2/26: concilia√ß√£o</div>
<div class="tstep">Q3/26: risco/score</div>
</div>
<p class="muted" style="margin-top:6px">Impacto: novas receitas + fideliza√ß√£o.</p>
</div>
<div class="feat">
<div class="meta">3. Leil√£o Automatizado de Fretes (SaaS)</div>
<h4>Otimiza√ß√£o de custo e prazo</h4>
<p class="muted">Meta: motor de leil√£o entre transportadoras.</p>
<ul>
<li>Regras por cliente (peso, regi√£o, SLA)</li>
<li>Relat√≥rios de efici√™ncia</li>
</ul>
<div class="timeline">
<div class="tstep">Q1/26: motor beta</div>
<div class="tstep">Q2/26: regras custom</div>
<div class="tstep">Q3/26: relat√≥rios</div>
<div class="tstep">Q4/26: API p√∫blica</div>
</div>
<p class="muted" style="margin-top:6px">Impacto: ‚Üì custo log√≠stico, ‚Üë competitividade.</p>
</div>
<div class="feat">
<div class="meta">4. Atendimento com Agente Azure AI</div>
<h4>Suporte inteligente e proativo</h4>
<p class="muted">Meta: agente virtual (pedidos, rastreios, CT‚Äëe, faturas) via WhatsApp, e‚Äëmail e portal.</p>
<ul>
<li>Baseada em Azure AI + IA pr√≥pria</li>
<li>Deflex√£o de chamados + NPS</li>
</ul>
<div class="timeline">
<div class="tstep">Q4/25: intents principais</div>
<div class="tstep">Q1/26: WhatsApp &amp; e‚Äëmail</div>
<div class="tstep">Q2/26: portal &amp; automa√ß√µes</div>
<div class="tstep">Q3/26: proactive care</div>
</div>
<p class="muted" style="margin-top:6px">Impacto: ‚Üì TME, ‚Üë NPS e reten√ß√£o.</p>
</div>
</div>
</section>
<!-- Mercado TAM / SAM / SOM -->
<section class="grid-2" id="market">
<div class="card"><h3 class="h">Mercado ‚Äî Brasil</h3><canvas class="chart" id="marketBR"></canvas></div>
<div class="card"><h3 class="h">Mercado ‚Äî LatAm (TAM adicional)</h3><canvas class="chart" id="marketLatam"></canvas></div>
</section>
<!-- Diferenciais -->
<section class="grid" id="diff">
<div class="card"><h3 class="h">Diferenciais Expressio</h3>
<ul class="muted" style="line-height:1.8">
<li><b>SaaS Log√≠stico (TMS/SLO) modular</b>: n√£o apenas marketplace de frete; plataforma completa (cota√ß√£o, etiquetas, CT‚Äëe, TMS).</li>
<li><b>Fintech integrada ‚Äì Expressio Pay</b>: intermedia√ß√£o + cr√©dito/parcelamento.</li>
<li><b>API flex√≠vel</b>: integra multi‚Äëplataforma (e‚Äëcommerce, ERPs, OMS) via API.</li>
<li><b>Atendimento inteligente (Azure + IA)</b>: suporte proativo e deflex√£o de chamados.</li>
</ul>
</div>
<div class="card"><h3 class="h">Comparativo ‚Äî panorama</h3>
<div style="overflow:auto">
<table style="width:100%; border-collapse:collapse">
<thead>
<tr style="text-align:left">
<th style="padding:8px; border-bottom:1px solid rgba(255,255,255,.1)">Crit√©rio</th>
<th style="padding:8px; border-bottom:1px solid rgba(255,255,255,.1)">Expressio</th>
<th style="padding:8px; border-bottom:1px solid rgba(255,255,255,.1)">Melhor Envio</th>
<th style="padding:8px; border-bottom:1px solid rgba(255,255,255,.1)">Estoca</th>
</tr>
</thead>
<tbody class="muted">
<tr><td style="padding:8px">Plataforma</td><td style="padding:8px"><b>SLO/TMS modular</b></td><td style="padding:8px">Marketplace de frete</td><td style="padding:8px">Fulfillment + log√≠stica</td></tr>
<tr><td style="padding:8px">Fintech de frete</td><td style="padding:8px"><b>Wallet, split, parcelamento</b></td><td style="padding:8px">‚Äî</td><td style="padding:8px">‚Äî</td></tr>
<tr><td style="padding:8px">Automa√ß√£o CT‚Äëe</td><td style="padding:8px"><b>Sim (roadmap)</b></td><td style="padding:8px">Parcial</td><td style="padding:8px">Sim (operacional)</td></tr>
<tr><td style="padding:8px">IA/Atendimento</td><td style="padding:8px"><b>Azure + IA pr√≥pria</b></td><td style="padding:8px">‚Äî</td><td style="padding:8px">‚Äî</td></tr>
<tr><td style="padding:8px">API</td><td style="padding:8px"><b>Abertas/multi‚Äëplataforma</b></td><td style="padding:8px">Limitada</td><td style="padding:8px">Focada no stack Estoca</td></tr>
</tbody>
</table>
</div>
<p class="muted" style="margin:6px 0 0">*Posicionamento de alto n√≠vel para fins de estrat√©gia.</p>
</div>
</section>
<!-- Expans√£o -->
<section class="grid-2" id="expand">
<div class="card"><h3 class="h">Estrat√©gia de Expans√£o</h3>
<ul class="muted" style="line-height:1.8">
<li><b>Brasil</b>: penetra√ß√£o em PMEs digitais (Bling, Tray, Nuvemshop, Loja Integrada) e parceria com <b>Asaas</b>; depois m√©dias opera√ß√µes e fulfillment.</li>
<li><b>LatAm (2026+)</b>: replicar modelo em <b>M√©xico</b> e <b>Col√¥mbia</b>; parcerias locais com transportadoras.</li>
</ul>
</div>
<div class="card"><h3 class="h">Mapa de Rotas e Oportunidades</h3>
<div class="chart" id="globe2"></div>
</div>
</section>
<!-- Documentos -->
<section class="grid" id="docs">
<div class="card"><h3 class="h">Documentos</h3>
<div class="docs grid">
<a href="#" rel="noopener" target="_blank">Pitch Deck <span>PDF</span></a>
<a href="#" rel="noopener" target="_blank">Proje√ß√µes Financeiras <span>XLSX/Sheets</span></a>
<a href="#" rel="noopener" target="_blank">Contratos/Parcerias <span>ZIP</span></a>
<a href="#" rel="noopener" target="_blank">Term Sheet/SAFE (se aplic√°vel) <span>PDF</span></a>
</div>
</div>
</section>
<footer>¬© Expressio ‚Äî confidencial. Acesso sob convite.</footer>
</div>
<script>
/* =============================
   DADOS (atualize conforme necess√°rio)
============================= */
const DATA = {
  revenueMonthly: [18000, 26000, 34000, 41000, 42000, 39000], // soma ‚âà 200k
  shipmentsMonthly: [4200, 6800, 9000, 12000, 14500, 16000],
  clientsActive: 10,
  ltv: 12000, cac: 2800,
  flows: { carriers:["Carrier A","Carrier B","Carrier C"], mix:[0.5,0.3,0.2], outOnTime:0.89, outDelay:0.08, outException:0.03 },
  cohorts: {
    labels:["M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12"],
    rows:[
      { cohort:"2025‚Äë01", values:[22,21,20,19,19,18,17,16,16,15,14,13] },
      { cohort:"2025‚Äë02", values:[18,17,17,16,16,15,15,14,13,13,12,11] },
      { cohort:"2025‚Äë03", values:[26,25,24,23,22,22,21,20,20,19,18,17] },
      { cohort:"2025‚Äë04", values:[30,29,28,27,26,25,24,24,23,22,21,20] }
    ]
  },
  unitEconomics:{ pricePerShipment:18, carrierCost:12.2, fintechMarginPerShipment:0.85, otherOps:1.1 },
  hubs:{
    saoPaulo:[-23.55,-46.63], buenosAires:[-34.60,-58.38], santiago:[-33.45,-70.66],
    lima:[-12.05,-77.04], bogota:[4.71,-74.07], mexicoCity:[19.43,-99.13]
  },
  routes:[
    {from:'saoPaulo',to:'santiago',volume:120}, {from:'saoPaulo',to:'buenosAires',volume:180},
    {from:'saoPaulo',to:'lima',volume:90}, {from:'saoPaulo',to:'bogota',volume:70},
    {from:'mexicoCity',to:'bogota',volume:110}, {from:'mexicoCity',to:'lima',volume:60}
  ],
  simDefault:{ shipments:15000, takeRatePct:6.0, arpu:2500 },
  market:{
    tamBR: 150, sam: 35, som: 1.5, tamLatamExtra: 80 // valores em R$ bi
  }
};

/* ========= Dark/Light ========= */
  document.getElementById('modeBtn').onclick = ()=>{
    const b=document.body; b.dataset.theme = b.dataset.theme==='dark'?'light':'dark'; };

/* ========= KPIs & Sparklines ========= */
(function initKPIs(){
  const rev6 = DATA.revenueMonthly.reduce((a,b)=>a+b,0);
  const mom = (DATA.revenueMonthly.at(-1)/DATA.revenueMonthly.at(-2)-1)*100;
  const shipMoM = (DATA.shipmentsMonthly.at(-1)/DATA.shipmentsMonthly.at(-2)-1)*100;

  animCounter("kpiRevenue", rev6, v=>fmtBRL(v));
  document.getElementById("kpiRevSub").textContent = `MoM: ${mom>=0?'+':''}${mom.toFixed(1)}%`;
  animCounter("kpiClients", DATA.clientsActive, v=>v.toFixed(0));
  animCounter("kpiShip", DATA.shipmentsMonthly.at(-1), v=>fmtK(v));
  document.getElementById("kpiShipSub").textContent = `MoM: ${shipMoM>=0?'+':''}${shipMoM.toFixed(1)}%`;
  const ratio = DATA.ltv/DATA.cac; animCounter("kpiRatio", ratio, v=>v.toFixed(1)+'x');

  function animCounter(id, target, fmt){
    anime({targets:{val:0}, val:target, round:1, easing:'easeOutQuad', duration:1200,
      update:anim=>{ document.getElementById(id).textContent = fmt(anim.animations[0].currentValue) }});
  }

  new Chart(document.getElementById('sparkRev'), {type:'line', data:{labels:DATA.revenueMonthly.map((_,i)=>`M${i+1}`), datasets:[{data:DATA.revenueMonthly, fill:true, tension:.35, borderColor:'var(--brand-2)', backgroundColor:'rgba(37,99,235,.18)', pointRadius:0}]}, options:{responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}}, scales:{x:{display:false}, y:{display:false}}});
  new Chart(document.getElementById('sparkClients'), {type:'line', data:{labels:DATA.revenueMonthly.map((_,i)=>`M${i+1}`), datasets:[{data:[6,7,8,9,10,10], tension:.35, borderColor:'var(--brand)', backgroundColor:'rgba(20,184,166,.18)', pointRadius:0, fill:true}]}, options:{responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}}, scales:{x:{display:false}, y:{display:false}}});
  new Chart(document.getElementById('sparkShip'), {type:'bar', data:{labels:DATA.shipmentsMonthly.map((_,i)=>`M${i+1}`), datasets:[{data:DATA.shipmentsMonthly, backgroundColor:'rgba(246,201,69,.40)', borderColor:'var(--accent)', borderWidth:1}]}, options:{responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}}, scales:{x:{display:false}, y:{display:false}}});
})();

/* ======== Globo/Mapa ======== */
(function initGlobe(){
  const el = document.getElementById('globe');
  const chart = echarts.init(el);
  try{
    const routes3D = DATA.routes.map(r=>({ coords:[[DATA.hubs[r.from][1],DATA.hubs[r.from][0]],[DATA.hubs[r.to][1],DATA.hubs[r.to][0]]], value:r.volume }));
    const points = Object.values(DATA.hubs).map(([lat,lng])=>({name:'', value:[lng,lat,10]}));
    chart.setOption({
      backgroundColor:'transparent',
      globe:{ baseTexture:'https://cdn.jsdelivr.net/npm/echarts-gl@2/examples/data-gl/asset/world.topo.bathy.200401.jpg', heightTexture:'https://cdn.jsdelivr.net/npm/echarts-gl@2/examples/data-gl/asset/bathymetry_bw_composite_4k.jpg', shading:'realistic', realisticMaterial:{roughness:.9}, light:{ambient:{intensity:.6}, main:{intensity:.5}}, viewControl:{autoRotate:true, autoRotateAfterStill:5, targetCoord:[-50,-15], distance:150}},
      series:[
        {type:'lines3D', coordinateSystem:'globe', effect:{show:true, trailWidth:2, trailLength:.2, trailColor:getCSS('--brand'), trailOpacity:.9}, blendMode:'lighter', lineStyle:{width:1, color:getCSS('--brand-2'), opacity:.3}, data:routes3D},
        {type:'scatter3D', coordinateSystem:'globe', symbolSize:6, itemStyle:{color:'var(--accent)'}, data:points}
      ]
    });
  } catch(e){
    const convert = ([lat,lng])=>[lng,lat];
    const lines = DATA.routes.map(r=>({coords:[convert(DATA.hubs[r.from]), convert(DATA.hubs[r.to])], value:r.volume}));
    const scatter = Object.values(DATA.hubs).map(([lat,lng])=>({value:[lng,lat,10]}));
    chart.setOption({backgroundColor:'transparent', geo:{map:'world', roam:true, zoom:1.2, center:[-60,-15], itemStyle:{areaColor:'var(--bg-soft)', borderColor:'#1f2a37'}, emphasis:{itemStyle:{areaColor:'#1f2937'}}}, series:[ {type:'lines', coordinateSystem:'geo', effect:{show:true, symbol:'arrow', symbolSize:6, color:getCSS('--brand')}, lineStyle:{color:getCSS('--brand-2'), width:1, opacity:.6, curveness:.2}, data:lines}, {type:'effectScatter', coordinateSystem:'geo', symbolSize:8, itemStyle:{color:'var(--accent')}, data:scatter} ]});
  }
  new ResizeObserver(()=>chart.resize()).observe(el);
})();

/* Duplicate small globe for expansion */
(function initGlobe2(){
  const el = document.getElementById('globe2'); if(!el) return; const chart = echarts.init(el);
  const convert = ([lat,lng])=>[lng,lat];
  const lines = DATA.routes.map(r=>({coords:[convert(DATA.hubs[r.from]), convert(DATA.hubs[r.to])], value:r.volume}));
  const scatter = Object.values(DATA.hubs).map(([lat,lng])=>({value:[lng,lat,10]}));
  chart.setOption({backgroundColor:'transparent', geo:{map:'world', roam:false, zoom:1.1, center:[-70,-10], itemStyle:{areaColor:'var(--bg-soft)', borderColor:'#1f2a37'}, emphasis:{itemStyle:{areaColor:'#1f2937'}}}, series:[ {type:'lines', coordinateSystem:'geo', effect:{show:true, symbol:'arrow', symbolSize:6, color:getCSS('--brand')}, lineStyle:{color:getCSS('--brand-2'), width:1, opacity:.6, curveness:.2}, data:lines}, {type:'effectScatter', coordinateSystem:'geo', symbolSize:8, itemStyle:{color:'var(--accent')}, data:scatter} ]});
  new ResizeObserver(()=>chart.resize()).observe(el);
})();

/* ======= Gauge LTV/CAC (SVG) ======= */
(function initGauge(){
  const container = document.getElementById('gauge');
  const w=360,h=150,r=120,cx=w/2,cy=h*1.1; const ratio = clamp(DATA.ltv/DATA.cac,0,6);
  const NS='http://www.w3.org/2000/svg', svg=document.createElementNS(NS,'svg'); svg.setAttribute('viewBox',`0 0 ${w} ${h}`); svg.style.width='100%';
  const arc=(start,end,color,width)=>{const p=document.createElementNS(NS,'path'); p.setAttribute('stroke',color); p.setAttribute('stroke-width',width); p.setAttribute('fill','none'); p.setAttribute('d',desc(cx,cy,r,start,end)); return p;}
  const t=document.createElementNS(NS,'path'); t.setAttribute('d',desc(cx,cy,r,180,360)); t.setAttribute('stroke','rgba(255,255,255,.12)'); t.setAttribute('stroke-width','12'); t.setAttribute('fill','none'); svg.appendChild(t);
  const v=arc(180,180, getCSS('--brand-2'),14); svg.appendChild(v);
  const needle=document.createElementNS(NS,'line'); needle.setAttribute('x1',cx); needle.setAttribute('y1',cy); needle.setAttribute('x2',cx); needle.setAttribute('y2',cy-r+16); needle.setAttribute('stroke',getCSS('--text')); needle.setAttribute('stroke-width','3'); needle.setAttribute('stroke-linecap','round'); svg.appendChild(needle);
  const text=document.createElementNS(NS,'text'); text.setAttribute('x',cx); text.setAttribute('y',cy-26); text.setAttribute('text-anchor','middle'); text.setAttribute('font-size','22'); text.setAttribute('font-weight','800'); text.textContent = (DATA.ltv/DATA.cac).toFixed(1)+'x'; svg.appendChild(text);
  container.appendChild(svg);
  anime({targets:{t:180}, t:180+(ratio/6)*180, easing:'spring(1, 80, 10, 0)', duration:1100, update:a=>{const e=a.animations[0].currentValue; v.setAttribute('d',desc(cx,cy,r,180,e)); const rad=(e-90)*Math.PI/180; needle.setAttribute('x2',cx + (r-8)*Math.cos(rad)); needle.setAttribute('y2',cy + (r-8)*Math.sin(rad)); }});
  function desc(cx,cy,r,start,end){const s=pt(cx,cy,r,end), e=pt(cx,cy,r,start), large=end-start<=180?0:1; return `M ${s.x} ${s.y} A ${r} ${r} 0 ${large} 0 ${e.x} ${e.y}`;}
  function pt(cx,cy,r,a){const rad=(a-90)*Math.PI/180; return {x:cx+r*Math.cos(rad), y:cy+r*Math.sin(rad)};}
})();

/* =============== Sankey =============== */
(function initSankey(){
  const el = document.getElementById('sankey'); const chart = echarts.init(el);
  const carriers = DATA.flows.carriers, mix = DATA.flows.mix;
  const outcomes = [{name:'On-time', key:'outOnTime', color:getCSS('--ok')},{name:'Delay', key:'outDelay', color:getCSS('--warn')},{name:'Exception', key:'outException', color:getCSS('--bad')}];
  function option(){
    const nodes=[{name:'Pedidos'}, ...carriers.map(c=>({name:c})), ...outcomes.map(o=>({name:o.name}))];
    const total=1000, links=[]; carriers.forEach((c,i)=>{const v=Math.round(total*mix[i]); links.push({source:'Pedidos',target:c,value:v}); outcomes.forEach(o=>links.push({source:c,target:o.name,value:Math.round(v*DATA.flows[o.key])}));});
    const colorMap=Object.fromEntries(outcomes.map(o=>[o.name,o.color]));
    return {backgroundColor:'transparent', tooltip:{trigger:'item',formatter:p=>`${p.data.source? p.data.source+' ‚Üí ' : ''}${p.data.name||p.data.target}: <b>${p.data.value}</b>`}, series:[{type:'sankey', nodeGap:12, nodeWidth:16, lineStyle:{color:'gradient', curveness:.5}, itemStyle:{color:p=>colorMap[p.data.name]||getCSS('--brand-2')}, data:nodes, links}]};
  }
  chart.setOption(option()); new ResizeObserver(()=>chart.resize()).observe(el);
})();

/* ============= Waterfall ============= */
(function initWaterfall(){
  const el = document.getElementById('waterfall'); const chart=echarts.init(el);
  const u=DATA.unitEconomics, gross=u.pricePerShipment, shipCost=-u.carrierCost, fin=u.fintechMarginPerShipment, other=-u.otherOps, contrib=gross+shipCost+fin+other;
  const data=[{name:'Receita',value:gross,color:getCSS('--brand-2')},{name:'Custo frete',value:shipCost,color:getCSS('--bad')},{name:'Fintech',value:fin,color:getCSS('--ok')},{name:'Ops var.',value:other,color:getCSS('--warn')},{name:'Margem contrib.',value:contrib,color:getCSS('--brand')}];
  chart.setOption({backgroundColor:'transparent', tooltip:{trigger:'axis',axisPointer:{type:'shadow'},formatter:p=>p.map(i=>`${i.marker} ${i.name}: <b>${fmtBRL(i.data.value)}</b>`).join('<br/>')}, xAxis:{type:'category',data:data.map(d=>d.name),axisLabel:{color:'var(--muted)'}}, yAxis:{type:'value',axisLabel:{color:'var(--muted)'}}, series:[{type:'bar', data:data.map(d=>({value:d.value, itemStyle:{color:d.color}})), label:{show:true, position:'top', formatter:p=>fmtBRL(p.data.value)}}]});
  new ResizeObserver(()=>chart.resize()).observe(el);
})();

/* ============ S√©ries MoM ============ */
(function seriesCharts(){
  new Chart(document.getElementById('areaRevenue'),{type:'line',data:{labels:DATA.revenueMonthly.map((_,i)=>`M${i+1}`),datasets:[{data:DATA.revenueMonthly, borderColor:getCSS('--brand-2'), backgroundColor:'rgba(37,99,235,.22)', fill:true, tension:.35, pointRadius:0}]}, options:{responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}}, scales:{x:{ticks:{color:'var(--muted)'}}, y:{ticks:{color:'var(--muted)'}}}});
  new Chart(document.getElementById('barShipments'),{type:'bar',data:{labels:DATA.shipmentsMonthly.map((_,i)=>`M${i+1}`),datasets:[{data:DATA.shipmentsMonthly, backgroundColor:'rgba(20,184,166,.30)', borderColor:getCSS('--brand'), borderWidth:1}]}, options:{responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}}, scales:{x:{ticks:{color:'var(--muted)'}}, y:{ticks:{color:'var(--muted)'}}}});
})();

/* ============ Cohorts =========== */
(function initCohorts(){
  const ctx=document.getElementById('cohortChart'); const labels=DATA.cohorts.labels, rows=DATA.cohorts.rows; const data=[]; rows.forEach((row,r)=>row.values.forEach((v,c)=>data.push({x:c,y:r,v})));
  const palette=v=> v>=28?getCSS('--brand'): v>=24?getCSS('--brand-2'): v>=20?'#a78bfa': v>=16?getCSS('--accent'):'#f87171';
  new Chart(ctx,{type:'matrix', data:{datasets:[{label:'MRR (R$ mil)', data:data.map(d=>({x:d.x,y:d.y,v:d.v})), width:({chart})=>(chart.chartArea||{}).width/labels.length-4, height:({chart})=>(chart.chartArea||{}).height/rows.length-4, backgroundColor:c=>palette(c.raw.v), borderColor:'rgba(255,255,255,.1)', borderWidth:1}]}, options:{responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}, tooltip:{callbacks:{label:c=>`${rows[c.raw.y].cohort} ‚Ä¢ ${labels[c.raw.x]}: R$ ${c.raw.v}k`}}}, scales:{x:{type:'linear',position:'top',ticks:{callback:v=>labels[v]||''}, grid:{display:false}, offset:true}, y:{type:'linear',ticks:{callback:v=>rows[v]?.cohort||''}, grid:{display:false}, reverse:true, offset:true}}});
})();

/* ============ Mercado charts =========== */
(function marketCharts(){
  const ctx1 = document.getElementById('marketBR');
  const ctx2 = document.getElementById('marketLatam');
  // Brasil TAM/SAM/SOM
  new Chart(ctx1,{type:'bar', data:{labels:['TAM (BR)','SAM','SOM'], datasets:[{label:'R$ bi', data:[DATA.market.tamBR, DATA.market.sam, DATA.market.som], backgroundColor:['rgba(37,99,235,.35)','rgba(20,184,166,.35)','rgba(246,201,69,.45)'], borderColor:['#2563eb','#14b8a6','#f6c945'], borderWidth:1}]}, options:{plugins:{legend:{display:false}, tooltip:{callbacks:{label:c=>`R$ ${c.raw.toLocaleString('pt-BR')} bi`}}}, scales:{y:{ticks:{color:'var(--muted)', callback:v=>`R$ ${v} bi`}, grid:{color:'rgba(255,255,255,.08)'}}, x:{ticks:{color:'var(--muted)'}}}});
  // LatAm TAM adicional
  new Chart(ctx2,{type:'doughnut', data:{labels:['M√©xico+Col√¥mbia+Chile'], datasets:[{data:[DATA.market.tamLatamExtra], backgroundColor:['rgba(20,184,166,.35)'], borderColor:['#14b8a6'], borderWidth:1}]}, options:{plugins:{legend:{display:true}}, cutout:'60%'}});
})();

/* ============== Utils ============== */
const fmtBRL = n => n.toLocaleString('pt-BR',{style:'currency',currency:'BRL',maximumFractionDigits:0});
const fmtK = n => n>=1000? (Math.round(n/100)/10)+'k': n.toString();
const clamp = (x,a,b)=>Math.max(a,Math.min(b,x));
function getCSS(name){ return getComputedStyle(document.documentElement).getPropertyValue(name).trim() || name }
</script>
<section class="market-section" style="padding: 40px;"><h2>üìä TAM / SAM / SOM do Mercado</h2><ul style="font-size: 18px;"><li>TAM: R$ 30 bilh√µes/ano (fretes + SaaS + fintechs + documentos)</li><li>SAM: R$ 1 a 2 bilh√µes/ano (PMEs com ticket m√©dio entre R$ 300 a R$ 800/m√™s)</li><li>SOM: R$ 15 milh√µes/ano (500 clientes √ó R$ 2.500/m√™s)</li></ul></section><section class="charts-section" style="padding: 40px;"><h2>üìà Proje√ß√µes de Crescimento</h2><div style="margin-bottom: 30px;"><h3>MRR Estimado</h3><img src="grafico_mrr.png" style="max-width: 100%; height: auto;"/></div><div style="margin-bottom: 30px;"><h3>Receita Fintech</h3><img src="grafico_margem.png" style="max-width: 100%; height: auto;"/></div><div style="margin-bottom: 30px;"><h3>LTV/CAC</h3><img src="grafico_ltv_cac.png" style="max-width: 100%; height: auto;"/></div></section></body>
</html>
